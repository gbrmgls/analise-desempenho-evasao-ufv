(this.webpackJsonpcaterva=this.webpackJsonpcaterva||[]).push([[0],{205:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(69),c=t.n(r),i=(t(80),t(39)),l=t.n(i),s=t(2),u=t(7),m=t(70),p=t(8),d=(t(82),t(71)),v=t.n(d),b=t(74);var f=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),i=Object(p.a)(c,2),d=(i[0],i[1],Object(n.useState)("")),f=Object(p.a)(d,2),g=(f[0],f[1]),h=Object(n.useState)({label:"",labels:[],data:[{value:0,color:""}],isLoaded:!1}),E=Object(p.a)(h,2),j=E[0],O=E[1],S=function(){var e=Object(m.a)(l.a.mark((function e(){var a,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv");case 3:a=e.sent,t=a.data.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{Foto:btoa(String.fromCharCode.apply(String,Object(s.a)(new Uint8Array(e.Foto.data)))),dados:Array.from({length:6},(function(){return Math.floor(10*Math.random())}))})})).sort((function(e,a){return e.nome.localeCompare(a.nome)})),r(t),O({labels:t.map((function(e){return e.nome})),label:"Porcentagem de aprova\xe7\xe3o por Campus",data:t.map((function(e){var a=e["SUM(Turma.Aprovados)"],t=e["SUM(Turma.NumEstudantes)"];return{value:a&&t?a/t*100:0,color:"rgba(75, 192, 192, 1)"}})),isLoaded:!0}),g("data:image/png;base64,".concat(t[0].Foto)),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){S()}),[]),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"selects"},o.a.createElement("select",{className:"campi",onChange:function(e){var a=t.find((function(a){return a.SiglaCamp===e.target.value}));g("data:image/png;base64,".concat(a.Foto)),O(a.dados)}},t.length>0?t.map((function(e){return o.a.createElement("option",{key:e.SiglaCamp,value:e.SiglaCamp},e.nome)})):o.a.createElement("option",{value:""},"Carregando...")),o.a.createElement("select",{className:"cursos"},o.a.createElement("option",{value:"curso1"},"curso1"),o.a.createElement("option",{value:"curso2"},"curso2"),o.a.createElement("option",{value:"curso3"},"curso3")),o.a.createElement("select",{className:"disciplinas"},o.a.createElement("option",{value:"disciplina1"},"disciplina1"),o.a.createElement("option",{value:"disciplina2"},"disciplina2"),o.a.createElement("option",{value:"disciplina3"},"disciplina3"))),o.a.createElement("div",{className:"grafico1"},o.a.createElement(b.a,{data:{labels:j.isLoaded?j.labels:[],datasets:j.isLoaded?[{label:j.label,categoryPercentage:.5,barPercentage:1,data:j.data.map((function(e){return e.value})),backgroundColor:j.data.map((function(e){return e.color}))}]:[]},height:100,options:{responsive:!0,maintainAspectRatio:!0,scales:{y:{beginAtZero:!0}}}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,a,t){e.exports=t(205)},80:function(e,a,t){},82:function(e,a,t){}},[[75,1,2]]]);
//# sourceMappingURL=main.609fafea.chunk.js.map