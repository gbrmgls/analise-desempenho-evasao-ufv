(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{226:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(45),c=a.n(o),u=(a(87),a(5)),s=a(11),i=a(1),l=a.n(i),m=a(4),p=a(2),d=(a(89),a(7)),v=a.n(d),f=a(81),b=a(29),g=a.n(b),h={label:"",labels:[],data:[{value:0,color:""}],isLoaded:!1},C=function(e){return{labels:e.map((function(e){return e.nome})),label:"Porcentagem de aprova\xe7\xe3o por Campus",data:e.map((function(e){var t=e["SUM(Turma.Aprovados)"],a=e["SUM(Turma.NumEstudantes)"];return{value:t&&a?t/a*100:0,color:"rgba(75, 192, 192, 1)"}})),isLoaded:!0}},E=function(e){return{labels:e.map((function(e){return e.nome})),label:"Porcentagem de aprova\xe7\xe3o por Departamento",data:e.map((function(e){var t=e["sum(Turma.Aprovados)"],a=e["sum(Turma.NumEstudantes)"];return{value:t&&a?t/a*100:0,color:"rgba(75, 192, 192, 1)"}})),isLoaded:!0}},O=function(e,t){return{labels:e.map((function(e){return e.nome})),label:"Porcentagem de aprova\xe7\xe3o por Cursos do "+t,data:e.map((function(e){var t=e["SUM(Turma.Aprovados)"],a=e["SUM(Turma.NumEstudantes)"];return{value:t&&a?t/a*100:0,color:"rgba(75, 192, 192, 1)"}})),isLoaded:!0}},x=function(e,t){return{labels:e.map((function(e){return e.nome})),label:"Porcentagem de aprova\xe7\xe3o por Disciplina do "+t,data:e.map((function(e){var t=e["sum(Turma.Aprovados)"],a=e["sum(Turma.NumEstudantes)"];return{value:t&&a?t/a*100:0,color:"rgba(75, 192, 192, 1)"}})),isLoaded:!0}},j=function(e,t,a){return{labels:e.map((function(e){return e.nome})),label:"Porcentagem de aprova\xe7\xe3o por Disciplina do Curso de "+a+" do "+t,data:e.map((function(e){var t=e["sum(Turma.Aprovados)"],a=e["sum(Turma.NumEstudantes)"];return{value:t&&a?t/a*100:0,color:"rgba(75, 192, 192, 1)"}})),isLoaded:!0}},S=function(e,t,a,n){var r=["Abandonos","Ano","Aprovados","CodCurso","CodDisc","MaiorNota","MenorNota","M\xe9diaNota","NumEstudantes","Reprovados","Semestre"];return{labels:["Notas 0-10","Notas 10-20","Notas 20-30","Notas 30-40","Notas 40-50","Notas 50-60","Notas 60-70","Notas 70-80","Notas 80-90","Notas 90-100"],label:"Notas de "+t+(n?" do Curso de ":"")+(n||"")+" do "+a,data:Object.keys(e).filter((function(e){return!r.includes(e)})).map((function(t){return{value:e[t],color:"rgba(75, 192, 192, 1)"}})),isLoaded:!0}};var N=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),i=Object(p.a)(c,2),d=i[0],b=i[1],N=Object(n.useState)(""),k=Object(p.a)(N,2),w=(k[0],k[1],Object(n.useState)([])),y=Object(p.a)(w,2),D=y[0],_=y[1],A=Object(n.useState)([]),T=Object(p.a)(A,2),L=T[0],F=T[1],M=Object(n.useState)([]),P=Object(p.a)(M,2),B=P[0],U=P[1],I=Object(n.useState)([]),R=Object(p.a)(I,2),J=R[0],V=R[1],W=Object(n.useState)([]),q=Object(p.a)(W,2),Z=q[0],$=q[1],z=Object(n.useState)([]),G=Object(p.a)(z,2),H=G[0],K=G[1],Q=Object(n.useState)(""),X=Object(p.a)(Q,2),Y=(X[0],X[1]),ee=Object(n.useState)([]),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(void 0),oe=Object(p.a)(re,2),ce=oe[0],ue=oe[1],se=Object(n.useState)(void 0),ie=Object(p.a)(se,2),le=ie[0],me=ie[1],pe=Object(n.useState)(void 0),de=Object(p.a)(pe,2),ve=de[0],fe=de[1],be=Object(n.useState)(void 0),ge=Object(p.a)(be,2),he=ge[0],Ce=ge[1],Ee=Object(n.useState)(void 0),Oe=Object(p.a)(Ee,2),xe=(Oe[0],Oe[1]),je=Object(n.useState)(""),Se=Object(p.a)(je,2),Ne=Se[0],ke=Se[1],we=Object(n.useState)(void 0),ye=Object(p.a)(we,2),De=ye[0],_e=ye[1],Ae=Object(n.useState)(h),Te=Object(p.a)(Ae,2),Le=Te[0],Fe=Te[1],Me=Object(n.useState)(!1),Pe=Object(p.a)(Me,2),Be=Pe[0],Ue=Pe[1],Ie=Object(n.useState)(!1),Re=Object(p.a)(Ie,2),Je=Re[0],Ve=Re[1],We=Object(n.useState)(!1),qe=Object(p.a)(We,2),Ze=qe[0],$e=qe[1],ze=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv/sem_turma");case 3:t=e.sent,a=t.data,ne(a),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv");case 3:t=e.sent,a=t.data.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{Foto:"data:image/png;base64,".concat(btoa(String.fromCharCode.apply(String,Object(u.a)(new Uint8Array(e.Foto.data)))))})})),o(a),Fe(C(a)),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv/departamento");case 3:t=e.sent,a=t.data,console.log(a),$(a),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv/departamento/contatos");case 3:t=e.sent,a=t.data,console.log(a),K(a),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv/departamento/aprovacao");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv/departamento/".concat(t));case 3:return a=e.sent,n=a.data,F(n),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv/".concat(t));case 3:return a=e.sent,n=a.data,_(n),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(m.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv/curso/".concat(a));case 3:return n=e.sent,r=n.data,F(r),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),tt=function(){var e=Object(m.a)(l.a.mark((function e(t,a){var n,r,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv/disciplina/".concat(t,"/").concat(a,"/"));case 3:return n=e.sent,r=n.data.sort((function(e,t){return e.nome.localeCompare(t.nome)}))[0],e.next=7,v.a.get("/route_example/bd_ufv/disciplina/turmas/".concat(t,"/").concat(a,"/"));case 7:return o=e.sent,c=o.data,e.abrupt("return",{notas:r,turmas:c});case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),at=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/route_example/bd_ufv/disciplina/".concat(t,"/"));case 3:return a=e.sent,n=a.data.sort((function(e,t){return e.nome.localeCompare(t.nome)}))[0],e.abrupt("return",{notas:n,turmas:B});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(m.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("route_example/bd_ufv/disciplina/".concat(t,"/").concat(a,"/min"));case 3:return n=e.sent,r=n.data[0],e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),rt=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe(void 0),Ce(void 0),me(void 0),_e(void 0),_([]),F([]),U([]),V([]),""!==t){e.next=12;break}return ue(void 0),Fe(C(a)),e.abrupt("return");case 12:return n=a.find((function(e){return e.SiglaCamp===t})),ue(n),Y(n.Foto),e.next=17,Ye(n.SiglaCamp);case 17:r=e.sent,Fe(O(r,n.nome));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F([]),U([]),V([]),Ce(void 0),_e(void 0),ke("Curso"),""!==t.target.value){e.next=10;break}return fe(void 0),Fe(O(D,ce.nome)),e.abrupt("return");case 10:return a=D.find((function(e){return e.CodCurso===Number(t.target.value)})),fe(a),e.next=14,et(ce.SiglaCamp,a.CodCurso);case 14:n=e.sent,Fe(j(n,ce.nome,a.nome));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U([]),V([]),_e(void 0),""!==t.target.value){e.next=8;break}return Ce(void 0),0===Ne.localeCompare("Curso")&&Fe(j(L,ce.nome,ve.nome)),0===Ne.localeCompare("Depto")&&Fe(x(L,le.nome)),e.abrupt("return");case 8:if(a=L.find((function(e){return e.CodDisc===t.target.value})),Ce(a),0!==Ne.localeCompare("Curso")){e.next=21;break}return e.next=13,tt(ve.CodCurso,a.CodDisc);case 13:return n=e.sent,Fe(S(n.notas,a.nome,ce.nome+" (Todos semestres)",ve.nome)),U(n.turmas),V(n.notas),e.next=19,nt(ve.CodCurso,a.CodDisc);case 19:r=e.sent,_e(r);case 21:if(0!==Ne.localeCompare("Depto")){e.next=26;break}return e.next=24,at(a.CodDisc);case 24:o=e.sent,Fe(S(o.notas,a.nome,ce.nome+" (Todos semestres)"));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.target.value){e.next=4;break}return xe(void 0),Fe(S(J,he.nome,ce.nome+" (Todos semestres)",ve.nome)),e.abrupt("return");case 4:a=t.target.value.split("+"),n=B.find((function(e){return e.Ano===Number(a[0])&&e.Semestre===Number(a[1])})),Fe(S(n,he.nome,ce.nome,ve.nome));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe(void 0),F([]),U([]),V([]),_e(void 0),Ce(void 0),ke("Depto"),""!==t.target.value){e.next=11;break}return me(void 0),Fe(O(D,ce.nome)),e.abrupt("return");case 11:if(0!==t.target.value.localeCompare("Todos")){e.next=18;break}return e.next=14,Qe();case 14:a=e.sent,Fe(E(a)),e.next=27;break;case 18:return console.log(Z,t.target.value),n=Z.find((function(e){return e.SiglaDepto==t.target.value})),e.next=22,Xe(n.SiglaDepto);case 22:r=e.sent,console.log(r),Fe(x(r,n.nome)),me(n),console.log(le);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Ge(),He(),Ke(),ze()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(g.a,{isOpen:Be,contentLabel:void 0==ce?"Selecione um campus":ce.SiglaCamp+" - "+ce.nome},r.a.createElement("h1",null,void 0==ce?"Selecione um campus":ce.SiglaCamp+" - "+ce.nome),r.a.createElement("button",{className:"modalButton",onClick:function(){return Ue(!1)}},"Fechar"),r.a.createElement("div",{className:"modalContent"},r.a.createElement("div",{className:"modalFoto"},void 0!==ce?r.a.createElement("img",{src:ce.Foto,alt:""}):r.a.createElement(r.a.Fragment,null)),r.a.createElement("h2",null,"Endere\xe7o: ",void 0==ce?"":ce.End))),r.a.createElement(g.a,{isOpen:Je,contentLabel:void 0==le?"Selecione um departamento":le.SiglaDepto+" - "+le.nome},r.a.createElement("h1",null,void 0==le?"Selecione um departamento":le.SiglaDepto+" - "+le.nome),r.a.createElement("button",{className:"modalButton",onClick:function(){return Ve(!1)}},"Fechar"),r.a.createElement("div",{className:"modalContent"},r.a.createElement("h2",null,"Contatos: "),r.a.createElement("ul",null,H.length>0&&void 0!==le?H.filter((function(e){return e.SiglaDepto==le.SiglaDepto})).map((function(e){if(null==e.tel)return"Esse departamento n\xe3o possui contatos.";var t=e.tel.toString();return r.a.createElement("li",null,"(31) "+t.substring(0,4)+"-"+t.substring(4))})):"Esse departamento n\xe3o possui contatos."))),r.a.createElement(g.a,{isOpen:Ze},r.a.createElement("h1",null,"As seguintes disciplinas nos seguintes anos ainda n\xe3o possuem turmas registradas no sistema:"),r.a.createElement("button",{className:"modalButton",onClick:function(){return $e(!1)}},"Fechar"),r.a.createElement("div",{className:"modalContent"},r.a.createElement("ul",null,ae.length>0?ae.map((function(e){return r.a.createElement("li",null,e.CodDisc," - ",e.nome," (",e.Ano,")")})):"Carregando..."))),r.a.createElement("div",{className:"selects"},r.a.createElement("div",{className:"selectCampus"},r.a.createElement("div",{className:"toggleOptions",onClick:function(){return b(!d)}},a.length>0&&void 0!==ce&&r.a.createElement("div",{className:"foto"},r.a.createElement("img",{src:ce.Foto,alt:""})),a.length>0&&void 0!==ce?r.a.createElement("div",{className:"nome"},ce.SiglaCamp):r.a.createElement("div",{className:"nome",style:{width:"unset",marginLeft:"auto",marginRight:"auto"}},a.length>0?"Selecione um campus":"Carregando...")),r.a.createElement("div",{className:"options",style:{display:d?"flex":"none"}},r.a.createElement("div",{className:"campus",onClick:function(){return rt(""),b(!d)}},r.a.createElement("div",{className:"foto"}),r.a.createElement("div",{className:"nome"},"Limpar")),a.length>0?a.map((function(e){return e})).sort((function(e,t){return e.nome.localeCompare(t.nome)})).map((function(e){return r.a.createElement("div",{className:"campus",onClick:function(){return rt(e.SiglaCamp),b(!d)}},r.a.createElement("div",{className:"foto"},r.a.createElement("img",{src:e.Foto,alt:""})),r.a.createElement("div",{className:"nome"},e.SiglaCamp))})):r.a.createElement("option",{value:""},"Carregando..."))),"CAV"!=(null===ce||void 0===ce?void 0:ce.SiglaCamp)||ve?"":r.a.createElement("select",{className:"departamentos",onChange:st},r.a.createElement("option",{value:""},"Selecione um Departamento"),Z.length>0?[r.a.createElement("option",{value:"Todos"},"Todos")].concat(Z.map((function(e){return e})).sort((function(e,t){return e.nome.localeCompare(t.nome)})).map((function(e){return r.a.createElement("option",{key:e.SiglaDepto,value:e.SiglaDepto},e.nome)}))):r.a.createElement("option",{value:""},"Carregando...")),!le&&r.a.createElement("select",{className:"cursos",onChange:ot},r.a.createElement("option",{value:""},"Selecione um Curso"),D.length>0?D.map((function(e){return e})).sort((function(e,t){return e.nome.localeCompare(t.nome)})).map((function(e){return r.a.createElement("option",{key:e.CodCurso,value:e.CodCurso},e.nome)})):r.a.createElement("option",{value:""},"Carregando...")),r.a.createElement("select",{className:"disciplinas",onChange:ct},r.a.createElement("option",{value:""},"Selecione uma Disciplina"),L.length>0?L.map((function(e){return e})).sort((function(e,t){return e.nome.localeCompare(t.nome)})).map((function(e,t){return r.a.createElement("option",{key:e.CodDisc+"".concat(t),value:e.CodDisc},e.nome)})):r.a.createElement("option",{value:""},"Carregando...")),B.length>0&&r.a.createElement("select",{className:"turmas",onChange:ut},r.a.createElement("option",{value:""},"Selecione um semestre"),B.map((function(e){return e})).sort().map((function(e,t){return r.a.createElement("option",{key:t,value:e.Ano+"+"+e.Semestre},"".concat(e.Ano,"/").concat(e.Semestre))})))),r.a.createElement("div",{className:"grafico1"},r.a.createElement(f.a,{data:{labels:Le.isLoaded?Le.labels:[],datasets:Le.isLoaded?[{label:Le.label,categoryPercentage:.5,barPercentage:1,data:Le.data.map((function(e){return e.value})),backgroundColor:Le.data.map((function(e){return e.color}))}]:[]},height:100,options:{responsive:!0,maintainAspectRatio:!0,scales:{y:{beginAtZero:!0}}}}),De&&r.a.createElement("p",{style:{textAlign:"left",margin:"0 0 0 0"}},"A turma de ",De.Ano,"/",De.Semestre," possui a menor taxa de aprova\xe7\xe3o na disciplina ",he.nome," com ",100*De.TaxAprov,"% de aprova\xe7\xe3o")),r.a.createElement("div",{style:{float:"right","text-align":"center",margin:"5px auto 5px auto",width:"40%"}},r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return $e(!0)}},"Veja quais turmas ainda n\xe3o possuem registro neste banco")),r.a.createElement("div",{className:"info",style:{float:"left",width:"40%"}},"Info:",r.a.createElement("div",{className:"infoCampus"},void 0!=ce?r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ue(!0)}},"Informa\xe7\xf5es do Campus"):""),r.a.createElement("div",{className:"infoDepto"},void 0!=le?r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ve(!0)}},"Informa\xe7\xf5es do Departamento"):"")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,t,a){e.exports=a(226)},87:function(e,t,a){},89:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.0d0aa26c.chunk.js.map